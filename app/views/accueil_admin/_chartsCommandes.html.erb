
<div class="chart-container" style="position: relative; height:100%; width:50%">
    <canvas id="myChartPie"></canvas>
</div>

<% @nbRetire = 1 %>
<% @nbNonRetire = 3 %>
<% @nbRendu = 5 %>

<% @data = [@nbRetire, @nbNonRetire, @nbRendu] %>

<script>
  var couleur1 = 'rgb(224, 20, 76)';
  var couleur2 = 'rgb(239, 154, 83)';
  var couleur3 = 'rgb(84, 180, 53)';

  const ctx = document.getElementById('myChartPie').getContext('2d');
  const myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['Retiré', 'Non-retiré', 'Rendu'],
      datasets: [{
        data: <%= @data.to_json.html_safe %>,       
         backgroundColor: [ couleur1, couleur2, couleur3 ],
        hoverOffset: 40
      }]
    },
    options: {
      animation: {
        animateRotate: true,
        duration: 5000
      },
      plugins: {
        legend: {
          display: true,
          position: 'right',
        },
      },
      scales: {
      }
     }
  });
</script>

<script>
  const myChart = new Chart(
    document.getElementById('myChartPie'),
    config
  );
</script>

